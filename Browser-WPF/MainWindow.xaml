<Window x:Class="Browser_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Browser_WPF" 
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="Browser" Height="450" Width="800"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        UseLayoutRounding="True"
        KeyDown="Window_KeyDown"
        Focusable="True">

    <Window.Resources>
        <!-- Recursos para Tema Claro -->
        <SolidColorBrush x:Key="BackgroundBrushLight" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="ForegroundBrushLight" Color="#000000"/>
        <SolidColorBrush x:Key="TextBoxBackgroundLight" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="BorderBrushLight" Color="#CCCCCC"/>

        <!-- Recursos para Tema Escuro -->
        <SolidColorBrush x:Key="BackgroundBrushDark" Color="#2D2D30"/>
        <SolidColorBrush x:Key="ForegroundBrushDark" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextBoxBackgroundDark" Color="#3C3C3C"/>
        <SolidColorBrush x:Key="BorderBrushDark" Color="#555555"/>

        <!-- Recursos Dinâmicos (serão alterados via código) -->
        <SolidColorBrush x:Key="DynamicBackground" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="DynamicForeground" Color="#000000"/>
        <SolidColorBrush x:Key="DynamicTextBoxBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="DynamicBorder" Color="#CCCCCC"/>

        <!-- Template customizado para TextBox -->
        <ControlTemplate x:Key="RoundedTextBoxTemplate" TargetType="{x:Type TextBox}">
            <Border CornerRadius="15" 
                    Background="{DynamicResource DynamicTextBoxBackground}" 
                    BorderThickness="1" 
                    BorderBrush="{DynamicResource DynamicBorder}">
                <ScrollViewer x:Name="PART_ContentHost" Margin="8,4"/>
            </Border>
        </ControlTemplate>
    </Window.Resources>

    <Grid Background="{DynamicResource DynamicBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" x:Name="UrlRow"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center"
                    Margin="11" x:Name="TopBar">
            <TextBox Name="Url" Width="200" Height="30" TextAlignment="Center"
                     Text="https://www.google.com" 
                     KeyDown="UrlEnter"
                     VerticalAlignment="Center"
                     HorizontalAlignment="Center"
                     FontSize="12"
                     Foreground="{DynamicResource DynamicForeground}"
                     Template="{StaticResource RoundedTextBoxTemplate}" />
        </StackPanel>

        <wv2:WebView2 Name="MeuNavegador" Grid.Row="1" Margin="0,0,0,0"/>
    </Grid>
</Window>
